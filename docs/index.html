<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AndroidX latest release notes</title>
  <style>
    /* See this website for inspiration: https://platformstatus.io/ */

    @import url('https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&family=Roboto:wght@400;700&display=swap');

    * {
      --heading-padding: 16px;
    }

    h1, h2, strong {
        font-family: "Roboto Slab", serif;
    }

    p, li {
        font-family: "Roboto", sans-serif;
        font-size: 15px;
    }

    h2 {
        display: inline-block;
        background: #b1e1f7;
        border: 1px solid;
        border-radius: 50px;
        padding-inline: var(--heading-padding);
        margin: 0;
        margin-block-start: 48px;
    }

    /* The date element */
    h2 + p {
      margin-block-start: 8px;
      margin-block-end: 4px;
      margin-inline-start: var(--heading-padding);
      font-size: 12px;
    }

    strong {
        background: #e0fdb5;
        border: 1px solid;
        border-radius: 50px;
        padding-inline: 16px;
        margin-inline-start: 24px;
    }

    pre {
      background: #eee;
      padding-block: 4px;
      padding-inline: 8px;
    }
  </style>
</head>
<body>

<a href="https://github.com/mahozad/androidx-release-notes" style="position: absolute; inset-block-start: 16px; inset-inline-end: 8px;">
  <svg width="48" viewBox="0 0 32.579 31.775" xmlns="http://www.w3.org/2000/svg">
    <path fill="#1b1817" d="m16.288 0c-8.995 0-16.288 7.293-16.288 16.29 0 7.197 4.667 13.302 11.14 15.457 0.815 0.149 1.112-0.354 1.112-0.786 0-0.386-0.014-1.411-0.022-2.77-4.531 0.984-5.487-2.184-5.487-2.184-0.741-1.881-1.809-2.382-1.809-2.382-1.479-1.011 0.112-0.991 0.112-0.991 1.635 0.116 2.495 1.679 2.495 1.679 1.453 2.489 3.813 1.77 4.741 1.354 0.148-1.053 0.568-1.771 1.034-2.178-3.617-0.411-7.42-1.809-7.42-8.051 0-1.778 0.635-3.232 1.677-4.371-0.168-0.412-0.727-2.068 0.159-4.311 0 0 1.368-0.438 4.48 1.67 1.299-0.361 2.693-0.542 4.078-0.548 1.383 6e-3 2.777 0.187 4.078 0.548 3.11-2.108 4.475-1.67 4.475-1.67 0.889 2.243 0.33 3.899 0.162 4.311 1.044 1.139 1.675 2.593 1.675 4.371 0 6.258-3.809 7.635-7.438 8.038 0.585 0.503 1.106 1.497 1.106 3.017 0 2.177-0.02 3.934-0.02 4.468 0 0.436 0.293 0.943 1.12 0.784 6.468-2.159 11.131-8.26 11.131-15.455 0-8.997-7.294-16.29-16.291-16.29"/>
  </svg>
</a>

<h1>Latest update</h1>
<hr>
<base href="https://developer.android.com/" target="_blank"/>

<h2>Media3: v1.3.1</h2>
<p>April 11, 2024</p>
<p><code translate="no" dir="ltr">androidx.media3:media3-*:1.3.1</code> is released. Version 1.3.1 contains <a href="https://github.com/androidx/media/commits/1.3.1">these commits</a>.</p>
<ul>
 <li>Common Library: 
  <ul>
   <li>Add <code translate="no" dir="ltr">Format.labels</code> to allow localized or other alternative labels.</li>
  </ul></li>
 <li>ExoPlayer: 
  <ul>
   <li>Fix issue where <code translate="no" dir="ltr">PreloadMediaPeriod</code> cannot retain the streams when it is preloaded again.</li>
   <li>Apply the correct corresponding <code translate="no" dir="ltr">TrackSelectionResult</code> to the playing period in track reselection.</li>
   <li>Start early-enabled renderers only after advancing the playing period when transitioning between media items (<a href="https://github.com/androidx/media/issues/1017">#1017</a>).</li>
   <li>Add missing return type to proguard <code translate="no" dir="ltr">-keepclasseswithmembers</code> rule for <code translate="no" dir="ltr">DefaultVideoFrameProcessor.Factory.Builder.build()</code> (<a href="https://github.com/androidx/media/issues/1187">#1187</a>).</li>
  </ul></li>
 <li>Transformer: 
  <ul>
   <li>Add workaround for exception thrown due to <code translate="no" dir="ltr">MediaMuxer</code> not supporting negative presentation timestamps before API 30.</li>
  </ul></li>
 <li>Track Selection: 
  <ul>
   <li><code translate="no" dir="ltr">DefaultTrackSelector</code>: Prefer video tracks with a 'reasonable' frame rate (&gt;=10fps) over those with a lower or unset frame rate. This ensures the player selects the 'real' video track in MP4s extracted from motion photos that can contain two HEVC tracks where one has a higher resolution but a very small number of frames (<a href="https://github.com/androidx/media/issues/1051">#1051</a>).</li>
  </ul></li>
 <li>Extractors: 
  <ul>
   <li>Fix issue where padding was not skipped when reading odd-sized chunks from WAV files (<a href="https://github.com/androidx/media/pull/1117">#1117</a>).</li>
   <li>MP3: Populate <code translate="no" dir="ltr">Format.averageBitrate</code> from metadata frames such as <code translate="no" dir="ltr">XING</code> and <code translate="no" dir="ltr">VBRI</code>.</li>
   <li>MPEG-TS: Revert a change that aimed to ensure the last frame is rendered by passing the last access unit of a stream to the sample queue (<a href="https://github.com/google/ExoPlayer/issues/7909">#7909</a>). This is due to the change causing new problems with I-frame only HLS streams (<a href="https://github.com/google/ExoPlayer/issues/1150">#1150</a>) and H.262 HLS streams (<a href="https://github.com/google/ExoPlayer/issues/1126">#1126</a>).</li>
  </ul></li>
 <li>Audio: 
  <ul>
   <li>Allow renderer recovery by disabling offload if audio track fails to initialize in offload mode.</li>
  </ul></li>
 <li>Video: 
  <ul>
   <li>Add workaround for a device issue on Galaxy Tab S7 FE, Chromecast with Google TV, and Lenovo M10 FHD Plus that causes 60fps H265 streams to be marked as unsupported</li>
   <li>Add workaround that ensures the first frame is always rendered while tunneling even if the device does not do this automatically as required by the API (<a href="https://github.com/androidx/media/issues/1169">#1169</a>). (<a href="https://github.com/androidx/media/issues/966">#966</a>).</li>
   <li>Fix issue where HDR color info handling causes codec misbehavior and prevents adaptive format switches for SDR video tracks (<a href="https://github.com/androidx/media/issues/1158">#1158</a>).</li>
  </ul></li>
 <li>Text: 
  <ul>
   <li>WebVTT: Prevent directly consecutive cues from creating spurious additional <code translate="no" dir="ltr">CuesWithTiming</code> instances from <code translate="no" dir="ltr">WebvttParser.parse</code> (<a href="https://github.com/androidx/media/issues/1177">#1177</a>).</li>
  </ul></li>
 <li>DRM: 
  <ul>
   <li>Work around a <code translate="no" dir="ltr">NoSuchMethodError</code> which can be thrown by the <code translate="no" dir="ltr">MediaDrm</code> framework instead of <code translate="no" dir="ltr">ResourceBusyException</code> or <code translate="no" dir="ltr">NotProvisionedException</code> on some Android 14 devices (<a href="https://github.com/androidx/media/issues/1145">#1145</a>).</li>
  </ul></li>
 <li>Effect: 
  <ul>
   <li>Improved PQ to SDR tone-mapping by converting color spaces.</li>
  </ul></li>
 <li>Session: 
  <ul>
   <li>Fix issue where the current position jumps back when the controller replaces the current item (<a href="https://github.com/androidx/media/issues/951">#951</a>).</li>
   <li>Fix issue where <code translate="no" dir="ltr">MediaMetadata</code> with just non-null <code translate="no" dir="ltr">extras</code> is not transmitted between media controllers and sessions (<a href="https://github.com/androidx/media/issues/1176">#1176</a>).</li>
  </ul></li>
 <li>UI: 
  <ul>
   <li>Fallback to include audio track language name if <code translate="no" dir="ltr">Locale</code> cannot identify a display name (<a href="https://github.com/androidx/media/issues/988">#988</a>).</li>
  </ul></li>
 <li>DASH Extension: 
  <ul>
   <li>Populate all <code translate="no" dir="ltr">Label</code> elements from the manifest into <code translate="no" dir="ltr">Format.labels</code> (<a href="https://github.com/androidx/media/pull/1054">#1054</a>).</li>
  </ul></li>
 <li>RTSP Extension: 
  <ul>
   <li>Skip empty session information values (i-tags) in SDP parsing (<a href="https://github.com/androidx/media/issues/1087">#1087</a>).</li>
  </ul></li>
 <li>Decoder Extensions (FFmpeg, VP9, AV1, MIDI, etc.): 
  <ul>
   <li>Disable the MIDI extension as a local dependency by default because it requires an additional Maven repository to be configured. Users who need this module from a local dependency <a href="https://github.com/androidx/media/blob/main/README.md#midi-module">can re-enable it</a>.</li>
  </ul></li>
</ul>
</body>
</html>
