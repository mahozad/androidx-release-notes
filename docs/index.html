<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AndroidX latest release notes</title>
  <style>
    /* See this website for inspiration: https://platformstatus.io/ */

    @import url('https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&family=Roboto:wght@400;700&display=swap');

    * {
      --heading-padding: 16px;
    }

    h1, h2, strong {
        font-family: "Roboto Slab", serif;
    }

    p, li {
        font-family: "Roboto", sans-serif;
        font-size: 15px;
    }

    h2 {
        display: inline-block;
        background: #b1e1f7;
        border: 1px solid;
        border-radius: 50px;
        padding-inline: var(--heading-padding);
        margin: 0;
        margin-block-start: 48px;
    }

    /* The date element */
    h2 + p {
      margin-block-start: 8px;
      margin-block-end: 4px;
      margin-inline-start: var(--heading-padding);
      font-size: 12px;
    }

    strong {
        background: #e0fdb5;
        border: 1px solid;
        border-radius: 50px;
        padding-inline: 16px;
        margin-inline-start: 24px;
    }

    pre {
      background: #eee;
      padding-block: 4px;
      padding-inline: 8px;
    }
  </style>
</head>
<body>

<a href="https://github.com/mahozad/androidx-release-notes" style="position: absolute; inset-block-start: 16px; inset-inline-end: 8px;">
  <svg width="48" viewBox="0 0 32.579 31.775" xmlns="http://www.w3.org/2000/svg">
    <path fill="#1b1817" d="m16.288 0c-8.995 0-16.288 7.293-16.288 16.29 0 7.197 4.667 13.302 11.14 15.457 0.815 0.149 1.112-0.354 1.112-0.786 0-0.386-0.014-1.411-0.022-2.77-4.531 0.984-5.487-2.184-5.487-2.184-0.741-1.881-1.809-2.382-1.809-2.382-1.479-1.011 0.112-0.991 0.112-0.991 1.635 0.116 2.495 1.679 2.495 1.679 1.453 2.489 3.813 1.77 4.741 1.354 0.148-1.053 0.568-1.771 1.034-2.178-3.617-0.411-7.42-1.809-7.42-8.051 0-1.778 0.635-3.232 1.677-4.371-0.168-0.412-0.727-2.068 0.159-4.311 0 0 1.368-0.438 4.48 1.67 1.299-0.361 2.693-0.542 4.078-0.548 1.383 6e-3 2.777 0.187 4.078 0.548 3.11-2.108 4.475-1.67 4.475-1.67 0.889 2.243 0.33 3.899 0.162 4.311 1.044 1.139 1.675 2.593 1.675 4.371 0 6.258-3.809 7.635-7.438 8.038 0.585 0.503 1.106 1.497 1.106 3.017 0 2.177-0.02 3.934-0.02 4.468 0 0.436 0.293 0.943 1.12 0.784 6.468-2.159 11.131-8.26 11.131-15.455 0-8.997-7.294-16.29-16.291-16.29"/>
  </svg>
</a>

<h1>Latest update</h1>
<hr>
<base href="https://developer.android.com/" target="_blank"/>

<h2>Media3: v1.6.0-alpha02</h2>
<p>January 30, 2025</p>
<p><code translate="no" dir="ltr">androidx.media3:media3-*:1.6.0-alpha02</code> is released. Version 1.6.0-alpha02 contains <a href="https://github.com/androidx/media/commits/1.6.0-alpha02">these commits</a>.</p>
<ul>
 <li>Common Library: 
  <ul>
   <li>Fix bug in <code translate="no" dir="ltr">SimpleBasePlayer</code> where setting a new <code translate="no" dir="ltr">currentMediaItemIndex</code> in <code translate="no" dir="ltr">State</code> after <code translate="no" dir="ltr">setPlaylist</code> with <code translate="no" dir="ltr">null</code> <code translate="no" dir="ltr">MediaMetadata</code> does not reevaluate the metadata (<a href="https://github.com/androidx/media/issues/1940">#1940</a>).</li>
  </ul></li>
 <li>ExoPlayer: 
  <ul>
   <li>Add experimental 'ExoPlayer' pre-warming support for playback using <code translate="no" dir="ltr">MediaCodecVideoRenderer</code>. You can configure <code translate="no" dir="ltr">DefaultRenderersFactory</code> through <code translate="no" dir="ltr">experimentalSetEnableMediaCodecVideoRendererPrewarming</code> to provide a secondary <code translate="no" dir="ltr">MediaCodecVideoRenderer</code> to <code translate="no" dir="ltr">ExoPlayer</code>. If enabled, <code translate="no" dir="ltr">ExoPlayer</code> pre-processes the video of consecutive media items during playback to reduce media item transition latency.</li>
   <li>Fix issue where additional decode-only frames may be displayed in quick succession when transitioning to content media after a mid-roll ad.</li>
   <li>Make <code translate="no" dir="ltr">DefaultRenderersFactory</code> add two <code translate="no" dir="ltr">MetadataRenderer</code> instances to enable apps to receive two different schemes of metadata by default.</li>
   <li>Initialize <code translate="no" dir="ltr">DeviceInfo</code> and device volume asynchronously (if enabled using <code translate="no" dir="ltr">setDeviceVolumeControlEnabled</code>). These values aren't available instantly after <code translate="no" dir="ltr">ExoPlayer.Builder.build()</code>, and <code translate="no" dir="ltr">Player.Listener</code> notifies changes through <code translate="no" dir="ltr">onDeviceInfoChanged</code> and <code translate="no" dir="ltr">onDeviceVolumeChanged</code>.</li>
   <li>Reevaluate whether the ongoing load of a chunk should be cancelled when playback is paused (<a href="https://github.com/androidx/media/pull/1785">#1785</a>).</li>
  </ul></li>
 <li>Transformer: 
  <ul>
   <li>Enable support for Android platform diagnostics using <code translate="no" dir="ltr">MediaMetricsManager</code>. Transformer forwards editing events and performance data to the platform, which helps to provide system performance and debugging information on the device. This data may also be collected by Google <a href="https://support.google.com/accounts/answer/6078260">if sharing usage and diagnostics data is enabled</a> by the user of the device. Apps can opt-out of contributing to platform diagnostics for Transformer with <code translate="no" dir="ltr">Transformer.Builder.setUsePlatformDiagnostics(false)</code>.</li>
   <li>Split <code translate="no" dir="ltr">InAppMuxer</code> into <code translate="no" dir="ltr">InAppMp4Muxer</code> and <code translate="no" dir="ltr">InAppFragmentedMp4Muxer</code>. You use <code translate="no" dir="ltr">InAppMp4Muxer</code> to produce a non-fragmented MP4 file, while <code translate="no" dir="ltr">InAppFragmentedMp4Muxer</code> is for producing a fragmented MP4 file.</li>
   <li>Move <code translate="no" dir="ltr">Muxer</code> interface from <code translate="no" dir="ltr">media3-muxer</code> to <code translate="no" dir="ltr">media3-transformer</code>.</li>
   <li>Add support for transcoding and transmuxing Dolby Vision (profile 8) format.</li>
  </ul></li>
 <li>Extractors: 
  <ul>
   <li>Fix handling of NAL units with lengths expressed in 1 or 2 bytes (rather than 4).</li>
   <li>Fix <code translate="no" dir="ltr">ArrayIndexOutOfBoundsException</code> in MP4 edit lists when the edit list starts at a non-sync frame with no preceding sync frame (<a href="https://github.com/androidx/media/issues/2062">#2062</a>).</li>
  </ul></li>
 <li>Audio: 
  <ul>
   <li>Don't bypass <code translate="no" dir="ltr">SonicAudioProcessor</code> when <code translate="no" dir="ltr">SpeedChangingAudioProcessor</code> is configured with default parameters.</li>
   <li>Fix underflow in <code translate="no" dir="ltr">Sonic#getOutputSize()</code> that could cause <code translate="no" dir="ltr">DefaultAudioSink</code> to stall.</li>
   <li>Fix <code translate="no" dir="ltr">MediaCodecAudioRenderer.getDurationToProgressUs()</code> and <code translate="no" dir="ltr">DecoderAudioRenderer.getDurationToProgressUs()</code> so that seeks correctly reset the provided durations.</li>
  </ul></li>
 <li>Text: 
  <ul>
   <li>TTML: Add support for referencing <code translate="no" dir="ltr">tts:origin</code> and <code translate="no" dir="ltr">tts:extent</code> using <code translate="no" dir="ltr">style</code> (<a href="https://github.com/google/ExoPlayer/issues/2953">#2953</a>).</li>
   <li>Restrict WebVTT and SubRip timestamps to exactly 3 decimal places. Previously we incorrectly parsed any number of decimal places but always assumed the value was in milliseconds, leading to incorrect timestamps (<a href="https://github.com/androidx/media/issues/1997">#1997</a>).</li>
   <li>Add support for VobSub subtitles (<a href="https://github.com/google/ExoPlayer/issues/8260">#8260</a>).</li>
   <li>Fix playback hanging when a playlist contains clipped items with CEA-608 or CEA-708 captions.</li>
   <li>Fix <code translate="no" dir="ltr">IllegalStateException</code> when an SSA file contains a cue with zero duration (start and end time equal) (<a href="https://github.com/androidx/media/issues/2052">#2052</a>).</li>
   <li>Suppress (and log) subtitle parsing errors when subtitles are muxed into the same container as audio and video (<a href="https://github.com/androidx/media/issues/2052">#2052</a>).</li>
  </ul></li>
 <li>Muxers: 
  <ul>
   <li>Renamed <code translate="no" dir="ltr">setSampleCopyEnabled()</code> method to <code translate="no" dir="ltr">setSampleCopyingEnabled()</code> in both <code translate="no" dir="ltr">Mp4Muxer.Builder</code> and <code translate="no" dir="ltr">FragmentedMp4Muxer.Builder</code>.</li>
   <li><code translate="no" dir="ltr">Mp4Muxer.addTrack()</code> and <code translate="no" dir="ltr">FragmentedMp4Muxer.addTrack()</code> now return an <code translate="no" dir="ltr">int</code> track ID instead of a <code translate="no" dir="ltr">TrackToken</code>.</li>
   <li><code translate="no" dir="ltr">Mp4Muxer</code> and <code translate="no" dir="ltr">FragmentedMp4Muxer</code> no longer implement <code translate="no" dir="ltr">Muxer</code> interface.</li>
  </ul></li>
 <li>Session: 
  <ul>
   <li>Fix bug where calling a <code translate="no" dir="ltr">Player</code> method on a <code translate="no" dir="ltr">MediaController</code> connected to a legacy session dropped changes from a pending update.</li>
  </ul></li>
 <li>UI: 
  <ul>
   <li>Add <code translate="no" dir="ltr">PresentationState</code> state holder class and the corresponding <code translate="no" dir="ltr">rememberPresentationState</code> Composable to <code translate="no" dir="ltr">media3-ui-compose</code>.</li>
  </ul></li>
 <li>HLS Extension: 
  <ul>
   <li>Parse <code translate="no" dir="ltr">SUPPLEMENTAL-CODECS</code> tag from HLS playlist to detect Dolby Vision formats (<a href="https://github.com/androidx/media/pull/1785">#1785</a>).</li>
  </ul></li>
 <li>DASH Extension: 
  <ul>
   <li>Fix issue when calculating the update interval for ad insertion in multi-period live streams (<a href="https://github.com/androidx/media/issues/1698">#1698</a>).</li>
   <li>Parse <code translate="no" dir="ltr">scte214:supplementalCodecs</code> attribute from DASH manifest to detect Dolby Vision formats (<a href="https://github.com/androidx/media/pull/1785">#1785</a>).</li>
   <li>Improve handling of period transitions in live streams where the period contains media samples beyond the declared period duration (<a href="https://github.com/androidx/media/issues/1698">#1698</a>).</li>
  </ul></li>
 <li>Demo app: 
  <ul>
   <li>Use <code translate="no" dir="ltr">PresentationState</code> to control the aspect ratio of <code translate="no" dir="ltr">PlayerSurface</code> Composable. This depends on the ContentScale type and covers it with a shutter-overlay before the first frame is rendered.</li>
  </ul></li>
 <li>Remove deprecated symbols: 
  <ul>
   <li>Removed <code translate="no" dir="ltr">ExoPlayer.VideoComponent</code>, <code translate="no" dir="ltr">ExoPlayer.AudioComponent</code>, <code translate="no" dir="ltr">ExoPlayer.TextComponent</code> and <code translate="no" dir="ltr">ExoPlayer.DeviceComponent</code>.</li>
  </ul></li>
</ul>
</body>
</html>
