<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AndroidX latest release notes</title>
  <style>
    /* See this website for inspiration: https://platformstatus.io/ */

    @import url('https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&family=Roboto:wght@400;700&display=swap');

    * {
      --heading-padding: 16px;
    }

    h1, h2, strong {
        font-family: "Roboto Slab", serif;
    }

    p, li {
        font-family: "Roboto", sans-serif;
        font-size: 15px;
    }

    h2 {
        display: inline-block;
        background: #b1e1f7;
        border: 1px solid;
        border-radius: 50px;
        padding-inline: var(--heading-padding);
        margin: 0;
        margin-block-start: 48px;
    }

    /* The date element */
    h2 + p {
      margin-block-start: 8px;
      margin-block-end: 4px;
      margin-inline-start: var(--heading-padding);
      font-size: 12px;
    }

    strong {
        background: #e0fdb5;
        border: 1px solid;
        border-radius: 50px;
        padding-inline: 16px;
        margin-inline-start: 24px;
    }

    pre {
      background: #eee;
      padding-block: 4px;
      padding-inline: 8px;
    }
  </style>
</head>
<body>

<a href="https://github.com/mahozad/androidx-release-notes" style="position: absolute; inset-block-start: 16px; inset-inline-end: 8px;">
  <svg width="48" viewBox="0 0 32.579 31.775" xmlns="http://www.w3.org/2000/svg">
    <path fill="#1b1817" d="m16.288 0c-8.995 0-16.288 7.293-16.288 16.29 0 7.197 4.667 13.302 11.14 15.457 0.815 0.149 1.112-0.354 1.112-0.786 0-0.386-0.014-1.411-0.022-2.77-4.531 0.984-5.487-2.184-5.487-2.184-0.741-1.881-1.809-2.382-1.809-2.382-1.479-1.011 0.112-0.991 0.112-0.991 1.635 0.116 2.495 1.679 2.495 1.679 1.453 2.489 3.813 1.77 4.741 1.354 0.148-1.053 0.568-1.771 1.034-2.178-3.617-0.411-7.42-1.809-7.42-8.051 0-1.778 0.635-3.232 1.677-4.371-0.168-0.412-0.727-2.068 0.159-4.311 0 0 1.368-0.438 4.48 1.67 1.299-0.361 2.693-0.542 4.078-0.548 1.383 6e-3 2.777 0.187 4.078 0.548 3.11-2.108 4.475-1.67 4.475-1.67 0.889 2.243 0.33 3.899 0.162 4.311 1.044 1.139 1.675 2.593 1.675 4.371 0 6.258-3.809 7.635-7.438 8.038 0.585 0.503 1.106 1.497 1.106 3.017 0 2.177-0.02 3.934-0.02 4.468 0 0.436 0.293 0.943 1.12 0.784 6.468-2.159 11.131-8.26 11.131-15.455 0-8.997-7.294-16.29-16.291-16.29"/>
  </svg>
</a>

<h1>Latest update</h1>
<hr>
<base href="https://developer.android.com/" target="_blank"/>

<h2>Media3: v1.0.0-beta03</h2>
<p>November 22, 2022</p>
<p><code translate="no" dir="ltr">androidx.media3:media3-*:1.0.0-beta03</code> is released. <a href="https://github.com/androidx/media/commits/1.0.0-beta03">Version 1.0.0-beta03 contains these commits.</a></p>
<p>This release corresponds to the <a href="https://github.com/google/ExoPlayer/releases/tag/r2.18.2">ExoPlayer 2.18.2 release</a>.</p>
<ul>
 <li>Core library: 
  <ul>
   <li>Add <code translate="no" dir="ltr">ExoPlayer.isTunnelingEnabled</code> to check if tunneling is enabled for the currently selected tracks (<a href="https://github.com/google/ExoPlayer/issues/2518">#2518</a>).</li>
   <li>Add <code translate="no" dir="ltr">WrappingMediaSource</code> to simplify wrapping a single <code translate="no" dir="ltr">MediaSource</code> (<a href="https://github.com/google/ExoPlayer/issues/7279">#7279</a>).</li>
   <li>Discard back buffer before playback gets stuck due to insufficient available memory.</li>
   <li>Close the Tracing "doSomeWork" block when offload is enabled.</li>
   <li>Fix session tracking problem with fast seeks in <code translate="no" dir="ltr">PlaybackStatsListener</code> (<a href="https://github.com/androidx/media/issues/180">#180</a>).</li>
   <li>Send missing <code translate="no" dir="ltr">onMediaItemTransition</code> callback when calling <code translate="no" dir="ltr">seekToNext</code> or <code translate="no" dir="ltr">seekToPrevious</code> in a single-item playlist (<a href="https://github.com/google/ExoPlayer/issues/10667">#10667</a>).</li>
   <li>Add <code translate="no" dir="ltr">Player.getSurfaceSize</code> that returns the size of the surface on which the video is rendered.</li>
   <li>Fix bug where removing listeners during the player release can cause an <code translate="no" dir="ltr">IllegalStateException</code> (<a href="https://github.com/google/ExoPlayer/issues/10758">#10758</a>).</li>
  </ul></li>
 <li>Build: 
  <ul>
   <li>Enforce minimum <code translate="no" dir="ltr">compileSdkVersion</code> to avoid compilation errors (<a href="https://github.com/google/ExoPlayer/issues/10684">#10684</a>).</li>
   <li>Avoid publishing block when included in another gradle build.</li>
  </ul></li>
 <li>Track selection: 
  <ul>
   <li>Prefer other tracks to Dolby Vision if display does not support it. (<a href="https://github.com/google/ExoPlayer/issues/8944">#8944</a>).</li>
  </ul></li>
 <li>Downloads: 
  <ul>
   <li>Fix potential infinite loop in <code translate="no" dir="ltr">ProgressiveDownloader</code> caused by simultaneous download and playback with the same <code translate="no" dir="ltr">PriorityTaskManager</code> (<a href="https://github.com/google/ExoPlayer/pull/10570">#10570</a>).</li>
   <li>Make download notification appear immediately (<a href="https://github.com/androidx/media/pull/183">#183</a>).</li>
   <li>Limit parallel download removals to 1 to avoid excessive thread creation (<a href="https://github.com/google/ExoPlayer/issues/10458">#10458</a>).</li>
  </ul></li>
 <li>Video: 
  <ul>
   <li>Try alternative decoder for Dolby Vision if display does not support it. (<a href="https://github.com/google/ExoPlayer/issues/9794">#9794</a>).</li>
  </ul></li>
 <li>Audio: 
  <ul>
   <li>Use <code translate="no" dir="ltr">SingleThreadExecutor</code> for releasing <code translate="no" dir="ltr">AudioTrack</code> instances to avoid OutOfMemory errors when releasing multiple players at the same time (<a href="https://github.com/google/ExoPlayer/issues/10057">#10057</a>).</li>
   <li>Adds <code translate="no" dir="ltr">AudioOffloadListener.onExperimentalOffloadedPlayback</code> for the AudioTrack offload state. (<a href="https://github.com/androidx/media/issues/134">#134</a>).</li>
   <li>Make <code translate="no" dir="ltr">AudioTrackBufferSizeProvider</code> a public interface.</li>
   <li>Add <code translate="no" dir="ltr">ExoPlayer.setPreferredAudioDevice</code> to set the preferred audio output device (<a href="https://github.com/androidx/media/issues/135">#135</a>).</li>
   <li>Rename <code translate="no" dir="ltr">androidx.media3.exoplayer.audio.AudioProcessor</code> to <code translate="no" dir="ltr">androidx.media3.common.audio.AudioProcessor</code>.</li>
   <li>Map 8-channel and 12-channel audio to the 7.1 and 7.1.4 channel masks respectively on all Android versions (<a href="https://github.com/google/ExoPlayer/issues/10701">#10701</a>).</li>
  </ul></li>
 <li>Metadata: 
  <ul>
   <li><code translate="no" dir="ltr">MetadataRenderer</code> can now be configured to render metadata as soon as they are available. Create an instance with <code translate="no" dir="ltr">MetadataRenderer(MetadataOutput, Looper, MetadataDecoderFactory, boolean)</code> to specify whether the renderer will output metadata early or in sync with the player position.</li>
  </ul></li>
 <li>DRM: 
  <ul>
   <li>Work around a bug in the Android 13 ClearKey implementation that returns a non-empty but invalid license URL.</li>
   <li>Fix <code translate="no" dir="ltr">setMediaDrmSession failed: session not opened</code> error when switching between DRM schemes in a playlist (e.g. Widevine to ClearKey).</li>
  </ul></li>
 <li>Text: 
  <ul>
   <li>CEA-608: Ensure service switch commands on field 2 are handled correctly (<a href="https://github.com/google/ExoPlayer/issues/10666">#10666</a>).</li>
  </ul></li>
 <li>DASH: 
  <ul>
   <li>Parse <code translate="no" dir="ltr">EventStream.presentationTimeOffset</code> from manifests (<a href="https://github.com/google/ExoPlayer/issues/10460">#10460</a>).</li>
  </ul></li>
 <li>UI: 
  <ul>
   <li>Use current overrides of the player as preset in <code translate="no" dir="ltr">TrackSelectionDialogBuilder</code> (<a href="https://github.com/google/ExoPlayer/issues/10429">#10429</a>).</li>
  </ul></li>
 <li>Session: 
  <ul>
   <li>Ensure commands are always executed in the correct order even if some require asynchronous resolution (<a href="https://github.com/androidx/media/issues/85">#85</a>).</li>
   <li>Add <code translate="no" dir="ltr">DefaultMediaNotificationProvider.Builder</code> to build <code translate="no" dir="ltr">DefaultMediaNotificationProvider</code> instances. The builder can configure the notification ID, the notification channel ID and the notification channel name used by the provider. Also, add method <code translate="no" dir="ltr">DefaultMediaNotificationProvider.setSmallIcon(int)</code> to set the notifications small icon. (<a href="https://github.com/androidx/media/issues/104">#104</a>).</li>
   <li>Ensure commands sent before <code translate="no" dir="ltr">MediaController.release()</code> are not dropped (<a href="https://github.com/androidx/media/issues/99">#99</a>).</li>
   <li><code translate="no" dir="ltr">SimpleBitmapLoader</code> can load bitmap from <code translate="no" dir="ltr">file://</code> URIs (<a href="https://github.com/androidx/media/issues/108">#108</a>).</li>
   <li>Fix assertion that prevents <code translate="no" dir="ltr">MediaController</code> to seek over an ad in a period (<a href="https://github.com/androidx/media/issues/122">#122</a>).</li>
   <li>When playback ends, the <code translate="no" dir="ltr">MediaSessionService</code> is stopped from the foreground and a notification is shown to restart playback of the last played media item (<a href="https://github.com/androidx/media/issues/112">#112</a>).</li>
   <li>Don't start a foreground service with a pending intent for pause (<a href="https://github.com/androidx/media/issues/167">#167</a>).</li>
   <li>Manually hide the 'badge' associated with the notification created by <code translate="no" dir="ltr">DefaultNotificationProvider</code> on API 26 and API 27 (the badge is automatically hidden on API 28+) (<a href="https://github.com/androidx/media/issues/131">#131</a>).</li>
   <li>Fix bug where a second binder connection from a legacy MediaSession to a Media3 MediaController causes IllegalStateExceptions (<a href="https://github.com/androidx/media/issues/49">#49</a>).</li>
  </ul></li>
 <li>RTSP: 
  <ul>
   <li>Add H263 fragmented packet handling (<a href="https://github.com/androidx/media/pull/119">#119</a>).</li>
   <li>Add support for MP4A-LATM (<a href="https://github.com/androidx/media/pull/162">#162</a>).</li>
  </ul></li>
 <li>IMA: 
  <ul>
   <li>Add timeout for loading ad information to handle cases where the IMA SDK gets stuck loading an ad (<a href="https://github.com/google/ExoPlayer/issues/10510">#10510</a>).</li>
   <li>Prevent skipping mid-roll ads when seeking to the end of the content (<a href="https://github.com/google/ExoPlayer/issues/10685">#10685</a>).</li>
   <li>Correctly calculate window duration for live streams with server-side inserted ads, for example IMA DAI (<a href="https://github.com/google/ExoPlayer/issues/10764">#10764</a>).</li>
  </ul></li>
 <li>FFmpeg extension: 
  <ul>
   <li>Add newly required flags to link FFmpeg libraries with NDK 23.1.7779620 and above (<a href="https://github.com/google/ExoPlayer/issues/9933">#9933</a>).</li>
  </ul></li>
 <li>AV1 extension: 
  <ul>
   <li>Update CMake version to avoid incompatibilities with the latest Android Studio releases (<a href="https://github.com/google/ExoPlayer/issues/9933">#9933</a>).</li>
  </ul></li>
 <li>Cast extension: 
  <ul>
   <li>Implement <code translate="no" dir="ltr">getDeviceInfo()</code> to be able to identify <code translate="no" dir="ltr">CastPlayer</code> when controlling playback with a <code translate="no" dir="ltr">MediaController</code> (<a href="https://github.com/androidx/media/issues/142">#142</a>).</li>
  </ul></li>
 <li>Transformer: 
  <ul>
   <li>Add muxer watchdog timer to detect when generating an output sample is too slow.</li>
  </ul></li>
 <li>Remove deprecated symbols: 
  <ul>
   <li>Remove <code translate="no" dir="ltr">Transformer.Builder.setOutputMimeType(String)</code>. This feature has been removed. The MIME type will always be MP4 when the default muxer is used.</li>
  </ul></li>
</ul>
</body>
</html>
